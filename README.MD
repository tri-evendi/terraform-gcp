# PROVISIONING INFRASTRUCTURE GCP

## WHAT IS THIS?

Terraform is a tool for building, changing, and versioning infrastructure safely and efficiently. Terraform can manage existing and popular service providers as well as custom in-house solutions. Configuration files describe to Terraform the components needed to run a single application or your entire datacenter. Terraform generates an execution plan describing what it will do to reach the desired state, and then executes it to build the described infrastructure. As the configuration changes, Terraform is able to determine what changed and create incremental execution plans which can be applied. This allows for much higher level of control over changes to your infrastructure. Terraform can also output your infrastructure state as a visual graph. This can be used to easily understand your infrastructure in a way that is more intuitive than a flat list of components. Terraform is open source software and licensed under the MPL 2.0. The Terraform Enterprise product enables teams to use Terraform together in a web UI with detailed policy controls, access controls, and audit logging.

## WHY TERRAFORM?

Terraform is a tool for building, changing, and versioning infrastructure safely and efficiently. Terraform can manage existing and popular service providers as well as custom in-house solutions. Configuration files describe to Terraform the components needed to run a single application or your entire datacenter. Terraform generates an execution plan describing what it will do to reach the desired state, and then executes it to build the described infrastructure. As the configuration changes, Terraform is able to determine what changed and create incremental execution plans which can be applied. This allows for much higher level of control over changes to your infrastructure. Terraform can also output your infrastructure state as a visual graph. This can be used to easily understand your infrastructure in a way that is more intuitive than a flat list of components. Terraform is open source software and licensed under the MPL 2.0. The Terraform Enterprise product enables teams to use Terraform together in a web UI with detailed policy controls, access controls, and audit logging.

## HOW TO USE THIS?

This repository contains a set of Terraform configurations that define a GCP infrastructure. The infrastructure is composed by a VPC, a subnet, a firewall rule, a load balancer, a backend service, a health check, a target pool, a managed instance group, a service account, a storage bucket, a cloud function, a cloud scheduler, etc.

## HOW TO RUN THIS?

1. Install Terraform
2. Clone this repository
3. Create a GCP project
4. Create a service account
5. Create a key for the service account
6. Set all environment variables
7. Run `terraform init` to initialize a working directory containing Terraform configuration files
8. Run `terraform plan` to create an execution plan
9. Run `terraform init -upgrade` to upgrade any modules
10. Run `terraform apply` to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan

### WHAT IS THE TERRAFORM INIT?

The terraform init command is used to initialize a working directory containing Terraform configuration files. This is the first command that should be run after writing a new Terraform configuration or cloning an existing one from version control. It is safe to run this command multiple times. This command is always safe to run. It is idempotent and will not change any existing state. This command initializes the backend, downloads any modules for the configuration, and installs any providers needed. The backend is configured in the terraform block of the configuration. The backend type is specified by the backend argument. The backend configuration is specified by the arguments within the backend block. The backend configuration is optional. If no backend configuration is specified, Terraform will use a local backend by default. The backend configuration is stored in the Terraform state file. The backend configuration is used to initialize the backend. The backend is responsible for implementing the locking and consistency model for Terraform. The backend is also responsible for persisting the state of the managed infrastructure.

### WHAT IS THE TERRAFORM PLAN?

The terraform plan command is used to create an execution plan. Terraform performs a refresh, unless explicitly disabled, and then determines what actions are necessary to achieve the desired state specified in the configuration files. The refresh step is used to update the state to match remote objects, but does not perform any actions. The plan step is used to create an execution plan. Terraform compares the current state to the desired state and generates a plan to reach the desired state. The generated plan is shown to the user, and the user is asked to confirm if they want to apply the plan.

### WHAT IS THE TERRAFORM APPLY?

The terraform apply command is used to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan. Terraform applies the actions proposed in a Terraform plan. This command is the primary means of using Terraform to achieve any changes to infrastructure.

### WHAT IS THE RESULT?

The result of this process is the creation of a GCP infrastructure. The infrastructure is composed by a VPC, a subnet, a firewall rule, a load balancer, a backend service, a health check, a target pool, a managed instance group, a service account, a storage bucket, a cloud function, a cloud scheduler, etc.

## HOW TO DESTROY THIS?

1. Run terraform destroy to destroy the Terraform-managed infrastructure
2. Remove the service account key
3. Remove the service account
4. Remove the project
5. Remove the Terraform state file
6. Remove the Terraform configuration files and the Terraform binary file from your computer

## HOW TO CONTRIBUTE?
